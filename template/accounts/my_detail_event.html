{% extends 'accounts/dashmain.html' %}

{% load static %}

{% block content %}
<style>
    .carousel .carousel-inner,
    .carousel .carousel-inner .active,
    .carousel .carousel-inner .carousel-item {
        height: 400px;
        width: 800px;
    }

    .carousel {
        height: 100%;
    }


    @media (max-width: 767px) {
        /* .carousel .carousel-inner, .carousel .carousel-inner .active, .carousel .carousel-inner .carousel-item {height: ;} */
    }
</style>
<div class="container">
    <div class="row">
        <!-- <div class="col-md-4">
            <img class="img-fluid" src={{event.images_baniere.url}} alt="">
            <img class="img-fluid" src={{event.images_2.url}} alt="">
        </div> -->

        <div class="col-md-6 col-xs-12">

            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <!-- <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
  
              </ol> -->
                <div class="carousel-inner" style="height: 100%;">
                    <div class="carousel-item active">
                        <img src={{event.images_baniere.url}} class="img-fluid img-responsive" alt="{{eve.event.name}}"
                            style="width: 100%; height: 100%;">
                    </div>
                    <div class="carousel-item">
                        <img src={{event.images_2.url}} class="img-fluid img-responsive" alt="{{eve.event.name}}"
                            style="width: 100%; height: 100%;">
                    </div>

                </div>
                <!-- <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a> -->
            </div>


        </div>


    </div>




    <form method="POST" action="{% url 'addpublish'  %}">
        {% csrf_token %}


        <table class="table is-fullwidth">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Location</th>
                    <th>start_date</th>
                    <th>end_date</th>
                    <th>Edit_events</th>
                    <th>Delete_event</th>
                    <th>Publish_event</th>
                    <th>Add_Ticket</th>
                </tr>
            </thead>

            <tbody>
                <a class="btn" href="#">
                    <tr>
                        <td>{{event.name}}</td>
                        <td>{{event.location}}</td>
                        <td>{{event.event_start_date}}</td>
                        <td>{{event.event_end_date}}</td>
                        <!-- delete and edit buttons -->
                        <td><a class="btn btn-sm btn-info" href="#">Edit event</a></td>
                        <td><a class="btn btn-sm btn-danger" href="#">Delete event</a></td>
                        <td><button class="btn btn-sm btn-success" type="submit">Publish event</button></td>
                        <td> <a href="{% url 'events:add-ticket' event.slug %}" class="btn btn-md btn-primary">Add
                                Ticket</a></td>
                    </tr>
                </a>
            </tbody>
        </table>
        <hr>
       
        <input type="text" value="{{ a }}" name="typ" class="form-control">


    </form>





    <hr>
    <strong>Description</strong>
</div>

<!-- Ticket Information -->

<div class="label">

</div>
<div class="row" hidden>

    <div class="col-md-4">
        <div class="lead">
            <form class="px-4 py-3">
                <div class="field">
                    <div class="label">Number of attended place</div>
                    {{form.maximum_attende}}
                </div>
                <div class="field">
                    <div class="label">Price of Ticket</div>
                    {{form.price}}
                </div>
                <div class="field">
                    <div class="label">Entries Cathegories</div>
                    {{form.ticket_cathegories}}
                </div>
                <div class="field">
                    <div class="label">Start Date for sell</div>
                    {{form.ticket_start_date_sell}}
                </div>

                <!--Location-->
                <div class="field">
                    <div class="label">Start Time for sell</div>
                    {{form.ticket_start_time_sell}}
                </div>

                <!--Start date-->
                <div class="field">
                    <div class="label">End Date of Sell</div>
                    {{form.ticket_end_date_sell}}
                </div>

                <!--start time-->
                <div class="field">
                    <div class="label">End time of Sell</div>
                    {{form.ticket_end_time_sell}}
                </div>

                <!--End date-->
                <div class="field">
                    <div class="label">Minimun of Ticket</div>
                    {{form.min_ticket}}
                </div>

                <!--End time-->
                <div class="field">
                    <div class="label">Maximun of ticket</div>
                    {{form.max_ticket}}
                </div>
                <br>
                <br>
                <div class="field">
                    <button class="firstNext next" type="submit">save and continus</button>
                </div>
            </form>
        </div>
    </div>
    {% if tickets %}
    <div class="col-md-8">
        <!-- here goes the details of the ticket -->
        <table class="table is-fullwidth">
            <thead>
                <tr>
                    <th>number of places expected</th>
                    <th>Price of Ticket</th>
                    <th>Entries Cathegories</th>
                    <th>Edit_events</th>
                    <th>Delete_event</th>
                </tr>
            </thead>
            <tbody>
                {% for tick in tickets %}
                <tr>
                    <td>{{tick.maximum_attende}}</td>
                    <td>{{tick.price}}</td>
                    <td>{{tick.ticket_cathegories}}</td>
                    <td><a class="btn btn-sm btn-info" href="#">Edit event</a></td>
                    <td><a class="btn btn-sm btn-danger" href="#">Delete event</a></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <p>You don't have any ticket yet...</p>
    {% endif %}


</div>
</div>
{% endblock content %}